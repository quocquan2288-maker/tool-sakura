<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunwin D·ª± ƒêo√°n</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Consolas', 'Courier New', monospace;
        }
        
        body {
            background: #000;
            color: #0f0;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #0f0;
            background: rgba(0, 30, 0, 0.3);
            position: relative;
        }
        
        .title {
            font-size: 2.5rem;
            color: #0f0;
            text-shadow: 0 0 10px #0f0;
            margin-bottom: 10px;
        }
        
        .subtitle {
            color: #0a0;
            font-size: 1rem;
        }
        
        /* Main layout */
        .main-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        @media (max-width: 768px) {
            .main-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .panel {
            border: 1px solid #0f0;
            padding: 20px;
            background: rgba(0, 20, 0, 0.2);
        }
        
        .panel-title {
            color: #0f0;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid #0a0;
            font-size: 1.3rem;
        }
        
        /* Dice input */
        .dice-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .dice-box {
            width: 70px;
            height: 70px;
            border: 2px solid #0f0;
            background: #001100;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            font-weight: bold;
            color: #0f0;
            cursor: pointer;
            position: relative;
        }
        
        .dice-box.active {
            border-color: #fff;
            box-shadow: 0 0 15px #0f0;
            background: #002200;
        }
        
        /* Number pad */
        .number-pad {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .num-btn {
            height: 50px;
            border: 1px solid #0a0;
            background: #001100;
            color: #0f0;
            font-size: 1.3rem;
            font-weight: bold;
            cursor: pointer;
        }
        
        .num-btn:hover {
            background: #002200;
            border-color: #0f0;
        }
        
        /* Control buttons */
        .control-buttons {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
        }
        
        .ctrl-btn {
            padding: 12px;
            border: 1px solid #0f0;
            background: #002200;
            color: #0f0;
            font-size: 1rem;
            cursor: pointer;
        }
        
        .ctrl-btn.predict {
            background: #003300;
            font-weight: bold;
        }
        
        /* Prediction result */
        .prediction-box {
            text-align: center;
            padding: 20px;
            margin-bottom: 20px;
            border: 1px solid #0f0;
            background: rgba(0, 20, 0, 0.3);
            min-height: 200px;
        }
        
        .result-title {
            color: #0a0;
            margin-bottom: 15px;
        }
        
        .result-value {
            font-size: 3.5rem;
            font-weight: bold;
            margin: 20px 0;
        }
        
        .tai {
            color: #0f0;
            text-shadow: 0 0 20px #0f0;
        }
        
        .xiu {
            color: #f00;
            text-shadow: 0 0 20px #f00;
        }
        
        .result-detail {
            color: #0a0;
            font-size: 0.9rem;
        }
        
        /* Simple processing animation */
        .processing {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            margin: 15px 0;
        }
        
        .dot {
            width: 8px;
            height: 8px;
            background: #0f0;
            border-radius: 50%;
            animation: bounce 1.4s infinite;
        }
        
        .dot:nth-child(2) { animation-delay: 0.2s; }
        .dot:nth-child(3) { animation-delay: 0.4s; }
        
        @keyframes bounce {
            0%, 60%, 100% { transform: translateY(0); }
            30% { transform: translateY(-10px); }
        }
        
        /* Terminal */
        .terminal {
            height: 200px;
            border: 1px solid #0a0;
            background: #001100;
            padding: 15px;
            font-family: monospace;
            overflow-y: auto;
            font-size: 0.9rem;
            margin-top: 30px;
        }
        
        .terminal-line {
            margin-bottom: 3px;
        }
        
        .prompt {
            color: #0f0;
        }
        
        .command {
            color: #fff;
        }
        
        .response {
            color: #0af;
        }
        
        /* History */
        .history-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
            gap: 10px;
            margin-top: 15px;
        }
        
        .history-item {
            border: 1px solid #0a0;
            padding: 10px;
            background: rgba(0, 30, 0, 0.2);
        }
        
        .history-dice {
            display: flex;
            justify-content: center;
            gap: 5px;
            margin-bottom: 8px;
        }
        
        .history-dice span {
            width: 25px;
            height: 25px;
            background: #001100;
            border: 1px solid #0a0;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .history-result {
            font-weight: bold;
            text-align: center;
            margin-bottom: 5px;
        }
        
        .history-tai { color: #0f0; }
        .history-xiu { color: #f00; }
        
        /* Footer */
        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 1px solid #0a0;
            color: #0a0;
            font-size: 0.8rem;
        }
        
        /* Simple scanline effect */
        .scanline {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 1px;
            background: #0f0;
            opacity: 0.1;
            animation: scan 3s linear infinite;
            pointer-events: none;
            z-index: 9999;
        }
        
        @keyframes scan {
            0% { top: 0; }
            100% { top: 100vh; }
        }
        
        /* Simple glitch effect on title */
        @keyframes glitch {
            0% { transform: translate(0); }
            20% { transform: translate(-1px, 1px); }
            40% { transform: translate(-1px, -1px); }
            60% { transform: translate(1px, 1px); }
            80% { transform: translate(1px, -1px); }
            100% { transform: translate(0); }
        }
        
        .glitch {
            animation: glitch 0.5s infinite;
            animation-play-state: paused;
        }
        
        .glitch:hover {
            animation-play-state: running;
        }
    </style>
</head>
<body>
    <div class="scanline"></div>
    
    <div class="container">
        <header class="header">
            <h1 class="title glitch">SUNWIN D·ª∞ ƒêO√ÅN</h1>
            <div class="subtitle">C√¥ng th·ª©c Chataone ‚Ä¢ Phi√™n b·∫£n t·ªëi ∆∞u</div>
        </header>
        
        <div class="main-grid">
            <!-- Input Panel -->
            <div class="panel">
                <h2 class="panel-title">NH·∫¨P X√öC X·∫ÆC</h2>
                
                <div class="dice-container">
                    <div class="dice-box active" data-index="0">?</div>
                    <div class="dice-box" data-index="1">?</div>
                    <div class="dice-box" data-index="2">?</div>
                </div>
                
                <div class="number-pad">
                    <button class="num-btn" data-value="1">1</button>
                    <button class="num-btn" data-value="2">2</button>
                    <button class="num-btn" data-value="3">3</button>
                    <button class="num-btn" data-value="4">4</button>
                    <button class="num-btn" data-value="5">5</button>
                    <button class="num-btn" data-value="6">6</button>
                    <button class="num-btn" data-value="clear">‚å´</button>
                    <button class="num-btn" data-value="random">üé≤</button>
                    <button class="num-btn" data-value="auto">‚ö°</button>
                </div>
                
                <div class="control-buttons">
                    <button class="ctrl-btn predict" id="predictBtn">D·ª∞ ƒêO√ÅN</button>
                    <button class="ctrl-btn" id="resetBtn">L√ÄM L·∫†I</button>
                </div>
            </div>
            
            <!-- Result Panel -->
            <div class="panel">
                <h2 class="panel-title">K·∫æT QU·∫¢</h2>
                
                <div class="prediction-box" id="predictionBox">
                    <div class="result-title">K·∫æT QU·∫¢ D·ª∞ ƒêO√ÅN</div>
                    <div class="result-value" id="resultValue">--</div>
                    <div class="result-detail" id="resultDetail">
                        Nh·∫≠p 3 s·ªë x√∫c x·∫Øc v√† b·∫•m D·ª∞ ƒêO√ÅN
                    </div>
                </div>
                
                <div>
                    <h2 class="panel-title">L·ªäCH S·ª¨</h2>
                    <div class="history-grid" id="historyGrid">
                        <div class="history-item" style="grid-column: 1 / -1; text-align: center; color: #0a0;">
                            Ch∆∞a c√≥ l·ªãch s·ª≠
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="terminal" id="terminal">
            <div class="terminal-line">
                <span class="prompt">$</span> <span class="command">kh·ªüi ƒë·ªông h·ªá th·ªëng d·ª± ƒëo√°n...</span>
            </div>
            <div class="terminal-line response">
                > H·ªá th·ªëng Sunwin Chataone ƒë√£ s·∫µn s√†ng
            </div>
            <div class="terminal-line response">
                > ƒê√£ t·∫£i 46 m·∫´u d·ª± ƒëo√°n
            </div>
        </div>
        
        <footer class="footer">
            <div>C√¥ng c·ª• d·ª± ƒëo√°n x√∫c x·∫Øc ‚Ä¢ Sunwin Chataone Formula</div>
            <div>Phi√™n b·∫£n t·ªëi ∆∞u hi·ªáu nƒÉng ‚Ä¢ Kh√¥ng lag ‚Ä¢ Kh√¥ng gi·∫≠t</div>
        </footer>
    </div>

    <script>
        // C∆° s·ªü d·ªØ li·ªáu d·ª± ƒëo√°n - ƒë∆°n gi·∫£n h√≥a
        const PREDICTION_DB = {
            "1 1 1": "xiu", "2 1 1": "xiu", "1 2 2": "xiu",
            "2 1 2": "tai", "3 1 1": "xiu", "1 2 3": "tai",
            "3 2 2": "tai", "5 1 1": "xiu", "4 2 1": "tai",
            "3 3 2": "xiu", "5 2 1": "tai", "4 3 1": "xiu",
            "6 1 1": "tai", "6 2 1": "tai", "5 3 1": "xiu",
            "5 2 2": "xiu", "4 3 2": "xiu", "4 1 4": "tai",
            "3 3 3": "tai", "6 3 1": "tai", "6 2 2": "xiu",
            "5 4 1": "tai", "5 3 2": "tai", "4 3 3": "xiu",
            "4 2 4": "tai", "6 3 2": "xiu", "5 5 1": "tai",
            "5 4 2": "xiu", "5 3 3": "xiu", "4 3 4": "tai",
            "6 5 1": "tai", "6 4 2": "tai", "6 3 3": "tai",
            "5 5 2": "xiu", "5 4 3": "xiu", "6 6 1": "xiu",
            "6 5 2": "tai", "6 4 3": "tai", "5 4 4": "xiu",
            "6 5 3": "tai", "5 5 4": "xiu", "6 6 3": "tai",
            "6 5 4": "tai", "5 5 5": "xiu", "6 6 4": "tai",
            "6 5 5": "xiu", "6 6 5": "tai", "6 6 6": "tai",
            "6 6 2": "tai", "6 4 1": "tai"
        };

        // Bi·∫øn tr·∫°ng th√°i
        let dice = [null, null, null];
        let activeIndex = 0;
        let history = [];

        // DOM elements
        const diceBoxes = document.querySelectorAll('.dice-box');
        const resultValue = document.getElementById('resultValue');
        const resultDetail = document.getElementById('resultDetail');
        const predictionBox = document.getElementById('predictionBox');
        const terminal = document.getElementById('terminal');
        const historyGrid = document.getElementById('historyGrid');

        // Kh·ªüi t·∫°o
        document.addEventListener('DOMContentLoaded', () => {
            // G√°n s·ª± ki·ªán cho √¥ x√∫c x·∫Øc
            diceBoxes.forEach(box => {
                box.addEventListener('click', (e) => {
                    const index = parseInt(e.target.dataset.index);
                    setActiveDice(index);
                });
            });
            
            // G√°n s·ª± ki·ªán cho b·∫£ng s·ªë
            document.querySelectorAll('.num-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const value = e.target.dataset.value;
                    handleNumberInput(value);
                });
            });
            
            // G√°n s·ª± ki·ªán cho n√∫t ƒëi·ªÅu khi·ªÉn
            document.getElementById('predictBtn').addEventListener('click', predict);
            document.getElementById('resetBtn').addEventListener('click', reset);
            
            // G√°n ph√≠m t·∫Øt
            document.addEventListener('keydown', handleKeyPress);
            
            // T·∫£i l·ªãch s·ª≠
            loadHistory();
        });

        // ƒê·∫∑t √¥ x√∫c x·∫Øc active
        function setActiveDice(index) {
            diceBoxes.forEach(box => box.classList.remove('active'));
            diceBoxes[index].classList.add('active');
            activeIndex = index;
        }

        // X·ª≠ l√Ω nh·∫≠p s·ªë
        function handleNumberInput(value) {
            switch(value) {
                case 'clear':
                    dice[activeIndex] = null;
                    diceBoxes[activeIndex].textContent = '?';
                    break;
                    
                case 'random':
                    const randomVal = Math.floor(Math.random() * 6) + 1;
                    dice[activeIndex] = randomVal;
                    diceBoxes[activeIndex].textContent = randomVal;
                    if (activeIndex < 2) setActiveDice(activeIndex + 1);
                    break;
                    
                case 'auto':
                    for (let i = 0; i < 3; i++) {
                        dice[i] = Math.floor(Math.random() * 6) + 1;
                        diceBoxes[i].textContent = dice[i];
                    }
                    setActiveDice(0);
                    break;
                    
                default:
                    dice[activeIndex] = parseInt(value);
                    diceBoxes[activeIndex].textContent = value;
                    if (activeIndex < 2) setActiveDice(activeIndex + 1);
                    break;
            }
        }

        // D·ª± ƒëo√°n
        function predict() {
            // Ki·ªÉm tra d·ªØ li·ªáu
            if (dice.includes(null)) {
                addTerminalLine("L·ªói: Ch∆∞a nh·∫≠p ƒë·ªß 3 s·ªë x√∫c x·∫Øc", "error");
                return;
            }
            
            // Hi·ªÉn th·ªã ƒëang x·ª≠ l√Ω
            resultValue.innerHTML = '<div class="processing"><div class="dot"></div><div class="dot"></div><div class="dot"></div></div>';
            resultDetail.textContent = 'ƒêang ph√¢n t√≠ch m·∫´u...';
            
            // Th√¥ng b√°o terminal
            addTerminalLine(`Ph√¢n t√≠ch: [${dice.join(', ')}]`);
            
            // Delay nh·ªè ƒë·ªÉ hi·ªáu ·ª©ng
            setTimeout(() => {
                // T√≠nh to√°n
                const sorted = [...dice].sort((a, b) => a - b);
                const key = sorted.join(' ');
                const sum = dice.reduce((a, b) => a + b, 0);
                
                let result, detail;
                
                if (PREDICTION_DB[key]) {
                    result = PREDICTION_DB[key];
                    detail = `M·∫´u: ${key} ‚Ä¢ T·ªïng: ${sum} ‚Ä¢ ${result === 'tai' ? 'T√ÄI' : 'X·ªàU'}`;
                } else {
                    result = sum >= 11 ? 'tai' : 'xiu';
                    detail = `T·ªïng: ${sum} ‚Ä¢ ${result === 'tai' ? 'T√ÄI' : 'X·ªàU'} (theo t·ªïng)`;
                }
                
                // Hi·ªÉn th·ªã k·∫øt qu·∫£
                resultValue.textContent = result.toUpperCase();
                resultValue.className = `result-value ${result}`;
                resultDetail.textContent = detail;
                
                // Th√™m v√†o l·ªãch s·ª≠
                addToHistory(result, detail, sum);
                
                // Th√¥ng b√°o terminal
                addTerminalLine(`K·∫øt qu·∫£: ${result.toUpperCase()} ‚Ä¢ T·ªïng: ${sum} ‚Ä¢ M·∫´u: ${key}`);
                
                // Reset cho l·∫ßn ti·∫øp theo
                resetInput();
            }, 500);
        }

        // Th√™m v√†o terminal
        function addTerminalLine(text, type = 'response') {
            const line = document.createElement('div');
            line.className = `terminal-line ${type}`;
            line.textContent = `> ${text}`;
            terminal.appendChild(line);
            
            // Gi·ªõi h·∫°n s·ªë d√≤ng
            while (terminal.children.length > 20) {
                terminal.removeChild(terminal.firstChild);
            }
            
            // Cu·ªôn xu·ªëng
            terminal.scrollTop = terminal.scrollHeight;
        }

        // Th√™m v√†o l·ªãch s·ª≠
        function addToHistory(result, detail, sum) {
            const item = {
                id: Date.now(),
                dice: [...dice],
                result: result,
                sum: sum,
                time: new Date().toLocaleTimeString('vi-VN')
            };
            
            history.unshift(item);
            
            // Gi·ªõi h·∫°n 10 m·ª•c
            if (history.length > 10) {
                history.pop();
            }
            
            // L∆∞u
            localStorage.setItem('sunwinHistory', JSON.stringify(history));
            
            // C·∫≠p nh·∫≠t hi·ªÉn th·ªã
            updateHistory();
        }

        // C·∫≠p nh·∫≠t l·ªãch s·ª≠
        function updateHistory() {
            if (history.length === 0) {
                historyGrid.innerHTML = `
                    <div class="history-item" style="grid-column: 1 / -1; text-align: center; color: #0a0;">
                        Ch∆∞a c√≥ l·ªãch s·ª≠
                    </div>
                `;
                return;
            }
            
            historyGrid.innerHTML = '';
            
            history.forEach(item => {
                const div = document.createElement('div');
                div.className = 'history-item';
                div.innerHTML = `
                    <div class="history-dice">
                        <span>${item.dice[0]}</span>
                        <span>${item.dice[1]}</span>
                        <span>${item.dice[2]}</span>
                    </div>
                    <div class="history-result ${item.result === 'tai' ? 'history-tai' : 'history-xiu'}">
                        ${item.result.toUpperCase()}
                    </div>
                    <div style="color: #0a0; font-size: 0.8rem; text-align: center;">
                        ${item.time}
                    </div>
                `;
                historyGrid.appendChild(div);
            });
        }

        // T·∫£i l·ªãch s·ª≠
        function loadHistory() {
            const saved = localStorage.getItem('sunwinHistory');
            if (saved) {
                history = JSON.parse(saved);
                updateHistory();
            }
        }

        // Reset nh·∫≠p li·ªáu
        function resetInput() {
            dice = [null, null, null];
            diceBoxes.forEach(box => {
                box.textContent = '?';
                box.classList.remove('active');
            });
            diceBoxes[0].classList.add('active');
            activeIndex = 0;
        }

        // Reset h·ªá th·ªëng
        function reset() {
            resetInput();
            resultValue.textContent = '--';
            resultValue.className = 'result-value';
            resultDetail.textContent = 'Nh·∫≠p 3 s·ªë x√∫c x·∫Øc v√† b·∫•m D·ª∞ ƒêO√ÅN';
            addTerminalLine('ƒê√£ reset h·ªá th·ªëng');
        }

        // X·ª≠ l√Ω ph√≠m t·∫Øt
        function handleKeyPress(e) {
            // S·ªë 1-6
            if (e.key >= '1' && e.key <= '6') {
                handleNumberInput(e.key);
            }
            
            // M≈©i t√™n
            if (e.key === 'ArrowRight' && activeIndex < 2) {
                setActiveDice(activeIndex + 1);
            }
            if (e.key === 'ArrowLeft' && activeIndex > 0) {
                setActiveDice(activeIndex - 1);
            }
            
            // Enter
            if (e.key === 'Enter') {
                predict();
            }
            
            // Escape
            if (e.key === 'Escape') {
                reset();
            }
            
            // Space (random)
            if (e.key === ' ') {
                e.preventDefault();
                handleNumberInput('random');
            }
            
            // Delete/Backspace
            if (e.key === 'Delete' || e.key === 'Backspace') {
                handleNumberInput('clear');
            }
        }

        // Th√™m d·ªØ li·ªáu m·∫´u ban ƒë·∫ßu
        setTimeout(() => {
            addTerminalLine('S·∫µn s√†ng nh·∫≠n d·ªØ li·ªáu...');
            addTerminalLine('Nh·∫≠p 3 s·ªë ho·∫∑c d√πng Auto ƒë·ªÉ test');
        }, 1000);
    </script>
</body>
</html>